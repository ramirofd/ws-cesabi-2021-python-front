var e=Object.defineProperty,t=("undefined"!=typeof require&&require,(t,n,a)=>(((t,n,a)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a})(t,"symbol"!=typeof n?n+"":n,a),a));import{w as n,B as a,R as r,G as o,C as i,T as s,a as l,b as m,L as c,P as p,d,m as h,c as g,F as u,e as b,f as y,g as f,h as E,i as j,j as x}from"./vendor.030b65b0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const k="http://localhost:5000",C={root:{flexGrow:1},card:{padding:10,background:"linear-gradient(45deg, rgba(28,110,30,1) 20%, rgba(103,245,174,1) 100%)"},paper:{padding:10,margin:10,backgroundColor:"rgba(50, 50, 50, 0.3)",backdropFilter:"blur(10px) saturate(100%) contrast(45%) brightness(130%)"},sectionTitle:{paddingBottom:0},itemContainer:{justifyContent:"center",display:"flex",width:"92%",marginTop:10,height:48},pokeContainer:{display:"flex",height:"130px",justifyContent:"center",alignItems:"center"},healthBar:{width:"90%",height:10,borderRadius:10}},v=n((e=>({badge:{right:10,top:40,border:`2px solid ${e.palette.background.paper}`,padding:"0 4px"}})))(a);class T extends r.Component{constructor(e){super(e),t(this,"handleVenta",(e=>{console.log(this.props.personaje);const t={objeto:e,personaje:this.props.personaje};fetch(k+"/tienda/vender",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{this.props.handler(e)}),(e=>{}))}))}render(){var e=[],t=[],n="";return"mochila"in this.props.personaje&&"objetos"in this.props.personaje.mochila&&("objetos"in this.props.personaje.mochila&&(n="(max "+this.props.personaje.mochila.capacidad+" objetos)"),e=Object.entries(this.props.personaje.mochila.objetos).map((function([e,t],n){return r.createElement(o,{item:!0,xs:6,sm:4,md:4,l:2,key:n},r.createElement(i,{style:C.paper,variant:"outlined"},r.createElement(s,{style:C.itemTitle},e),r.createElement("div",{style:C.itemContainer},r.createElement(v,{badgeContent:t.length,color:"secondary"},r.createElement("img",{src:t[0].url,alt:t[0].nombre,style:C.sprite}))),r.createElement(l,{style:{justifyContent:"center",display:"flex",marginBottom:-10,marginTop:5}},r.createElement(m,{onClick:()=>this.handleVenta(e)},"vender"))))}),this)),"pokemons"in this.props.personaje&&(t=this.props.personaje.pokemons.map((function(e,t){return r.createElement(o,{item:!0,xs:6,sm:4,md:4,l:2,key:t},r.createElement(i,{style:C.paper,variant:"outlined"},r.createElement(o,{container:!0,spacing:0,style:{width:"100%"}},r.createElement(o,{item:!0,xs:12},r.createElement(s,{style:C.itemTitle},e.nombre)),r.createElement(o,{item:!0,xs:12},r.createElement("div",{style:C.pokeContainer},r.createElement("img",{src:e.imagen_frente,alt:e.nombre,style:C.sprite}))),r.createElement(o,{item:!0,xs:12,style:{display:"flex",justifyContent:"center"}},r.createElement(c,{variant:"determinate",value:e.salud,style:C.healthBar})))))}))),r.createElement(i,{style:C.card,variant:"outlined"},r.createElement(s,{variant:"h4",component:"h4",style:{marginBottom:"5px"}},"Personaje"),"nombre"in this.props.personaje&&r.createElement(s,{variant:"h6",component:"h4",style:{marginLeft:"15px"}},"Nombre: ",this.props.personaje.nombre),"dinero"in this.props.personaje&&r.createElement(s,{variant:"h6",component:"h4",style:{marginLeft:"15px",marginBottom:"15px"}},"Dinero: $",this.props.personaje.dinero),"mochila"in this.props.personaje&&r.createElement(i,{style:C.paper,variant:"outlined"},r.createElement(s,{variant:"h6",style:C.sectionTitle},"Mochila ",n),r.createElement(o,{container:!0,spacing:0},e)),"pokemons"in this.props.personaje&&r.createElement(i,{style:C.paper,variant:"outlined"},r.createElement(s,{variant:"h6",style:C.sectionTitle},"Pokemons"),r.createElement(o,{container:!0,spacing:0},t)))}}const S={root:{flexGrow:1},card:{padding:10,background:"linear-gradient(45deg, rgba(10,100,255,1) 0%, rgba(84,226,255,1) 100%)"},paper:{padding:5,margin:5,backgroundColor:"rgba(50, 50, 50, 0.3)",backdropFilter:"blur(10px) saturate(100%) contrast(45%) brightness(130%)",height:40},sectionTitle:{paddingBottom:20},itemTitle:{margin:10,marginLeft:40,position:"absolute",text:"center"},itemContainer:{marginTop:3,marginRight:10,marginLeft:"auto",float:"left",height:48},buyButton:{height:30,borderRadius:32,marginTop:5,marginRight:5,float:"right"}};class w extends r.Component{constructor(e){super(e),t(this,"getTienda",(()=>{fetch(k+"/tienda").then((e=>e.json())).then((e=>{this.setState({tienda:e})}),(e=>{this.setState({tienda:null})}))})),t(this,"handleCompra",(e=>{const t={objeto:e,personaje:this.props.personaje};fetch(k+"/tienda/comprar",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>e.json())).then((e=>{this.props.handler(e)}),(e=>{}))})),this.state={tienda:null}}componentDidMount(){this.getTienda()}render(){const{tienda:e}=this.state;var t=[];return null!==e&&(t=e.map((function(e,t){return r.createElement(o,{item:!0,xs:12,key:t},r.createElement(p,{style:S.paper,variant:"outlined"},r.createElement(s,{style:S.itemTitle},e.nombre),r.createElement("div",{style:S.itemContainer},r.createElement("img",{src:e.url,alt:e.nombre,style:S.sprite})),r.createElement(m,{variant:"contained",disableElevation:!0,style:S.buyButton,onClick:()=>this.handleCompra(e.nombre)},r.createElement(d,{style:{fontSize:18,margin:0,padding:0,marginLeft:-10},value:e.nombre}),e.precio)))}),this)),r.createElement(i,{style:S.card,variant:"outlined"},r.createElement(s,{variant:"h4",component:"h4",style:{marginBottom:"5px"}},"Tienda"),r.createElement(o,{container:!0,spacing:0},t))}}h((e=>({root:{flexGrow:1},card:{padding:10,background:"linear-gradient(45deg, #FE6B8B 10%, #FF8E53 100%)"},paper:{padding:5,margin:5,backgroundColor:"rgba(50, 50, 50, 0.3)",backdropFilter:"blur(10px) saturate(100%) contrast(45%) brightness(130%)",height:70},sectionTitle:{paddingBottom:20},itemTitle:{margin:10,marginLeft:10,position:"absolute",text:"center"},itemContainer:{marginTop:38,marginLeft:5,float:"left"},playButton:{marginTop:5,marginRight:5,float:"right"}})));class B extends r.Component{constructor(e){super(e),t(this,"handleUpdatePersonaje",(e=>{this.setState({personaje:e})})),this.state={personaje:e.personaje,enemigos:null}}render(){const{personaje:e,tienda:t}=this.state;return r.createElement(o,{container:!0,spacing:1},r.createElement(o,{item:!0,xs:12,sm:12,md:6},r.createElement(T,{personaje:e,handler:this.handleUpdatePersonaje})),r.createElement(o,{item:!0,xs:12,sm:12,md:3},r.createElement(w,{personaje:e,handler:this.handleUpdatePersonaje})),r.createElement(o,{item:!0,xs:12,sm:12,md:3}))}}const P={card:{padding:25},form:{justifyContent:"center",display:"flex",width:"100%"},formControl:{},paper:{background:"#757575",padding:10},pokeContainer:{display:"flex",height:"130px",justifyContent:"center",alignItems:"center"},checkbox:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},L=n({root:{width:"100%","& label.Mui-focused":{color:"white"},"& .MuiInput-underline:after":{borderBottomColor:"white"},"& .MuiOutlinedInput-root":{borderRadius:"12px",background:"rgba(0,0,0,0)","&:hover fieldset":{borderColor:"white"},"&.Mui-focused fieldset":{borderColor:"white"}}}})(g);class O extends r.Component{constructor(e){super(e),t(this,"handleNameChange",(e=>{const t=e.target.value;this.setState({nombre:t})})),t(this,"handleCreate",(e=>{const t=this.state.nombre,n=this.state.pokemons;this.props.handler({nombre:t,pokemons:n})})),this.state={nombre:"",pokemons:[],all_pokemons:[],max:0,disabled:!1}}componentDidMount(){fetch(k+"/pokemon").then((e=>e.json())).then((e=>{this.setState({all_pokemons:e.all_pokemons,max:e.max_pokemons})}),(e=>{this.setState({all_pokemons:[],max:0})}))}render(){const{nombre:e,pokemons:t,all_pokemons:n,max:a}=this.state;var l=n.map((function(e,n){return r.createElement(o,{item:!0,xs:6,sm:4,md:3,l:2,xl:2,key:n},r.createElement(i,{style:P.paper},r.createElement(o,{container:!0,spacing:0,style:{width:"100%"}},r.createElement(o,{item:!0,xs:12},r.createElement(s,{style:P.itemTitle},e.nombre)),r.createElement(o,{item:!0,xs:12},r.createElement("div",{style:P.pokeContainer},r.createElement("img",{src:e.imagen_frente,alt:e.nombre,style:P.sprite}))),r.createElement(o,{item:!0,xs:12},r.createElement(u,{style:P.checkbox,control:r.createElement(b,{disabled:!this.state.pokemons.includes(e.nombre)&&this.state.disabled,value:e.nombre,onChange:e=>{if(e.target.checked)t.push(e.target.value),t.length==a&&this.setState({disabled:!0});else{var n=t.indexOf(e.target.value);n>-1&&t.splice(n,1),t.length<a&&this.setState({disabled:!1})}this.setState({pokemons:t})},inputProps:{"aria-label":"primary checkbox"}}),label:"ELEGIDO"})))))}),this);return r.createElement(o,{container:!0,spacing:0},r.createElement(o,{item:!0,xs:12},r.createElement(i,{style:P.card},r.createElement(s,{variant:"h4",component:"h4",style:{marginBottom:20}},"Crear Personaje"),r.createElement(o,{container:!0,spacing:2,style:P.form},r.createElement(o,{item:!0,xs:8},r.createElement(L,{onChange:this.handleNameChange,id:"outlined",label:"Nombre",variant:"outlined",value:e})),r.createElement(o,{item:!0,xs:4,style:{width:"100%"}},r.createElement(m,{disabled:0==this.state.pokemons.length||""===this.state.nombre,onClick:this.handleCreate,variant:"contained",style:{borderRadius:30,width:"100%",height:"100%"}},"crear")),r.createElement(s,{style:{marginBottom:5,marginTop:5}},"Elige tus pokemons (max: ",a,")"),r.createElement(o,{item:!0,xs:12,style:{width:"100%"}},r.createElement(o,{container:!0,spacing:1},l))))))}}const N=y({palette:{type:"dark",primary:{main:"#4caf50"},secondary:{main:"#D9D166"}}}),R={fab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}};class M extends r.Component{constructor(e){super(e),t(this,"handleCreatePersonaje",(e=>{fetch(k+"/personaje",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((e=>e.json())).then((e=>{this.setState({personaje:e})}),(e=>{this.setState({personaje:null})}))})),t(this,"reset",(()=>{this.setState({personaje:null})})),this.state={personaje:null}}render(){const{personaje:e}=this.state;var t;return t=null!==e?r.createElement(B,{personaje:e}):r.createElement(O,{handler:this.handleCreatePersonaje}),r.createElement("div",{className:"App"},r.createElement(f,{theme:N},t,r.createElement(E,{onClick:this.reset,style:R.fab,variant:"extended"},r.createElement(j,{style:{marginRight:10}}),"Reiniciar juego")))}}x.render(r.createElement(r.StrictMode,null,r.createElement(M,null)),document.getElementById("root"));
